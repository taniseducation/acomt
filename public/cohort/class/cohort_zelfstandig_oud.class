<?PHP
class Cohort {
    /*
    public $cid;
    public $vakCode;
    public $niveau;
    public $beginjaar;
    public $actief;
    public $edit;
    */
    public $cohortData;
    public $cohortJaren;
    public $items;

  function __construct($vakCode,$niveau,$beginjaar,$DBverbinding) {    
    $this->items = [];
    $this->cohortJaren = [];
    $sql = "SELECT * FROM cohorten where vid = (SELECT vid FROM vakken where vakCode = '$vakCode') and niveau = '$niveau' and beginJaar = $beginjaar";
    $record = mysqli_query($DBverbinding, $sql);
    $this->cohortData = mysqli_fetch_assoc($record);
    $sql = "SELECT * FROM cohortjaar where cid=".$this->cohortData['cid'].";";
    $cohortJaren = mysqli_query($DBverbinding, $sql);
    while($jaar = mysqli_fetch_assoc($cohortJaren)) {
        array_push($this->cohortJaren,$jaar);
    }     
    $sql = "SELECT * FROM items where cid=".$this->cohortData['cid'].";";
    $items = mysqli_query($DBverbinding, $sql);
    while($item = mysqli_fetch_assoc($items)) {
        //. hier voeg toe opdracht
        $this->voegItemToe($item,$DBverbinding);
    }        
  }
  function voegItemToe($item,$DBverbinding) {
      $i = new Item($item,$DBverbinding);
      echo 'test'.$item['id'].'<br>';
      // array_push($this->items,$i{$item['id']});
      $this->items[$item['id']] = $i;
  }  
}

echo '<h5>end cohort.class</h5>';
?>